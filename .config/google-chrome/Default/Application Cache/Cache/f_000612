Ew.prototype.Uq=ea(43,g("reason"));I3a.prototype.Uq=ea(42,g("C"));eE.prototype.Uq=ea(41,function(){return S(this,2)});function qwe(a,b){Fo(a.C,8192)?b():(Lp(a.LP,a.ma,function(){b()}),a.create())}function rwe(a){a.O=!0;return a}function A5(a){nf(this,a,0,-1,null,null)}w(A5,lf);A5.prototype.Uq=function(){return F(this,1)};function swe(a){nf(this,a,0,-1,null,null)}w(swe,lf);function twe(a){nf(this,a,0,-1,null,null)}w(twe,lf);twe.prototype.getId=function(){return F(this,1)};
twe.prototype.mf=function(a){G(this,1,a)};twe.prototype.getType=function(){return F(this,2)};twe.prototype.setType=function(a){G(this,2,a)};function uwe(a){nf(this,a,0,-1,null,null)}w(uwe,lf);function vwe(){try{return!!ma.localStorage.getItem("docs-uoo")}catch(a){return!0}}function wwe(a){a?ma.localStorage.setItem("docs-wownoi","true"):ma.localStorage.removeItem("docs-wownoi")}function xwe(a){a?ma.localStorage.setItem("docs-rops","true"):ma.localStorage.removeItem("docs-rops")}
function ywe(a){a?ma.localStorage.setItem("docs-ropd","true"):ma.localStorage.removeItem("docs-ropd")}function zwe(a,b){this.P8=a;this.RN=b};function Awe(a,b,c,d,e){z.call(this);this.Xa=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new SNa;this.J=c;this.D=null;this.F=new Jp;this.Aa(this.F);this.C=Bwe(this)}w(Awe,z);function Bwe(a){a.C&&A(a.C);var b=eh(H(),"lssv");return new XNa(a.Xa,a.O,0,a.X3a.bind(a),b,!0,a.J,new QMa)}function Cwe(a){if(a.D)return a.D;a.D=Dwe(a);return Xe(a.D,function(b){a.M$();throw b;})}
function Ewe(a){return Cwe(a).then(function(a){return(new Qe(function(b,d){MIa(a.xQ(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==fh(H(),"docs-offline-lsuid")?new zwe(a,b[0]):null}.bind(this))}.bind(a))}p=Awe.prototype;p.get=function(){return Ewe(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.P8})};function Dwe(a){return(new Qe(function(a,c){af(this.C.create(this.M$.bind(this)),a,c)}.bind(a))).then(a.Wsb.bind(a))}
p.Wsb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new ELa(a,this.H);this.Aa(c)}VFa(a);Kp(this.F,a.C.C.D,function(){b.M$()});Kp(this.F,a.C.ma,function(){b.M$()});return a};p.M$=function(){A(this.C);this.C=Bwe(this);this.D=null};p.X3a=function(a){return kMa(this.L,a)};p.Ia=function(){A(this.C);Awe.oa.Ia.call(this)};function Fwe(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function Gwe(a){Lt.call(this);this.O=a;jt(this,"Turn on offline for all files?");a=new rt;wt(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);wt(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);ut(this,a);tt(this,!1);this.Wi=this.Ss=!0;a=new a5c;kt(this,Cs(b5c(a,Fwe)));this.C=this.F=null}w(Gwe,Lt);
Gwe.prototype.Ha=function(){Gwe.oa.Ha.call(this);Bt(this,this.D.Qv);this.F=je(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=je(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Jc(this.F,"click",this.L)};Gwe.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};Gwe.prototype.L=function(){J(this.F,"docs-offline-optindialog-disclaimer-link-disabled");K(this.C,!0);this.C.focus()};function Hwe(a,b,c,d){E.call(this);this.F=a;this.va=b;this.L=c;this.O=new Rr(this.L,Qr(),this);this.Xa=d;this.H=Ve();this.D=this.C=null;this.J=!1}w(Hwe,E);Hwe.prototype.start=function(){var a=this;Iwe(this,"Initialization").then(function(){a.J=!0;a.H.resolve(null);a.O.V(BLa,a.ea).V(wLa,a.ma).V(xLa,a.R)},function(b){a.H.resolve(ye(b))})};function Jwe(a){return a.H.C.then(function(a){if(null!=a)throw a;})}
Hwe.prototype.ea=function(a){a=xf(a,qLa,1);for(var b=0;b<a.length;b++){var c=a[b].lA(CLa);if(c&&F(c,1)==this.F&&qf(c,3).includes(1)){Kwe(this,"Document data changed");break}}};Hwe.prototype.ma=function(a){F(a,1)==this.F&&Kwe(this,"Document available")};Hwe.prototype.R=function(){Kwe(this,"Offline disabled")};function Kwe(a,b){Xe(Iwe(a,b),function(b){kp(a.Xa,ye(b))})}
function Iwe(a,b){return Xe(Lwe(a.va,[a.F]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.D!=e);a.C=c;a.D=e;b&&a.dispatchEvent("sh");f&&a.dispatchEvent("th")}),function(a){throw ze(a,{pinStatusUpdateReason:b});})};function Mwe(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=Ve()}w(Mwe,E);function Nwe(a){return a.F.C.then(function(a){if(null!=a)throw a;})}Mwe.prototype.fC=g("D");function Owe(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("uh")}function Pwe(a){if(!a.D)return!1;a=a.D.Uq();return 1==a||6==a};function Qwe(a,b,c,d,e,f,h,k,l,n,q){z.call(this);this.Pa=a;this.Qa=b;this.Za=c;this.F=d;this.D=e;this.Xa=k;this.Da=new wr;this.Ma=new Wk(this);this.Aa(this.Ma);this.Ua=a.C;this.ea=f;this.eb=h;this.H=this.C=null;this.L=l;this.Sa=n;this.Fa=q;this.Ka=new Jp;this.Aa(this.Ka);this.O=Rwe(this,"Document now available offline");this.ma=Rwe(this,"Document no longer available offline");this.R=Rwe(this,"Could not change offline availability.");this.J=Rwe(this,"Could not enable offline access.");this.La=Rwe(this,
"Making document available offline...");this.va=Rwe(this,"Document will sync when you reconnect");this.Wa=Rwe(this,"Could not sync document.")}w(Qwe,z);function Rwe(a,b){return eu(a.L,b,void 0,!1,3E3,!1,void 0,!0)}p=Qwe.prototype;p.init=function(){var a=this;Ue([Nwe(this.D),Jwe(this.F)]).then(function(){Swe(a);Twe(a);(gk(),Vh).setVisible(B.product.Se)},function(b){a.Xa.Qc(ye(b))})};
function Swe(a){(gk(),Vh).subscribe("action",a.bHa,a);a.Ma.V(a.F,"sh",a.Gwb).V(a.F,"th",a.bvb).V(a.D,"uh",a.dvb);Kp(a.Ka,a.Fa.C,function(){Twe(a)})}p.bHa=function(){Uwe(this)};
function Uwe(a){qKa(a.Da).then(function(){if(qr()){if(1==a.D.C)return Vwe(a);Pwe(a.D)?Wwe(a):Xwe(a,a.J)}else{a.H&&a.H.setVisible(!1);var b=wt(wt(new rt,{key:"ok",caption:"Install"},!0),zt,!1,!0),c=a.ea,d=a4c("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.R6a,null,a,void 0,b,void 0);c.oi(d);d.focus();a.H=d;Bt(a.H,b.Qv)}})}
p.R6a=function(){var a=this;this.Da.install().then(function(b){b&&Uwe(a)},function(b){b=ye(b);a.Xa.Qc(b);PJa(b)})};function Vwe(a){var b=!(gk(),Vh).Cd(),c=a.Sa.ai();b&&!a.F.D&&Xwe(a,c?a.La:a.va);return Xe((new Qe(function(b){qwe(a.Ua,b)})).then(function(){return Ywe(a,b,c)}),function(b){Xwe(a,a.R);a.Xa.log(ye(b))})}function Zwe(a){Xe($we(a.eb),function(b){a.Xa.log(ye(b))}).then(function(){if(1==a.D.C)return Vwe(a);Xwe(a,a.J)})}
function Wwe(a){a.C||(a.C=new Gwe(function(){return Zwe(a)}),a.ea.oi(a.C),a.Ma.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}function Ywe(a,b,c){var d=new twe;d.mf(a.Pa.F);d.setType(a.Qa);return axe(a.Za,[d],b,c).then(function(b){b&&(F(b,1)||Xwe(a,a.Wa))})}p.Gwb=function(){Twe(this);bxe(this);this.F.C||Xwe(this,this.ma)};p.bvb=function(){bxe(this)};p.dvb=function(){Twe(this)};function bxe(a){1==a.D.C&&a.F.D&&a.F.C&&Xwe(a,a.O)}
function Xwe(a,b){a.O.setVisible(!1);a.ma.setVisible(!1);a.R.setVisible(!1);a.J.setVisible(!1);a.La.setVisible(!1);a.va.setVisible(!1);b.sb()||b.render();b.setVisible(!0)}function Twe(a){var b=a.Fa.getState()==(wp(),sBa);(gk(),Vh).Na(!b&&(1==a.D.C||Pwe(a.D)));Vh.Zb(a.F.C)}
p.Ia=function(){(gk(),Vh).unsubscribe("action",this.bHa,this);this.C&&(pv(this.ea,this.C),A(this.C));this.H&&(pv(this.ea,this.H),A(this.H));Qwe.oa.Ia.call(this);lu(this.L,this.O);lu(this.L,this.ma);lu(this.L,this.R);lu(this.L,this.J);xb(this.O,this.ma,this.R,this.J)};function cxe(a){this.D=a}cxe.prototype.C=function(a){var b=new I6c;J6c(b,a.serialize());this.D.log(b);this.D.H()};function dxe(a){this.D=a}dxe.prototype.C=function(a){var b=new I6c;J6c(b,a.serialize());this.D.log(b);return new Qe(function(a,b){this.D.flush(a,b)}.bind(this))};function exe(a){this.D=a}exe.prototype.C=function(a,b,c){Ewe(this.D).then(u(function(d){d?(new GEc(d.P8,"offline",null)).C(a,b,c):b()},this))};function fxe(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(Dt({id:"docs-offline-optinpromo-confirm-close",content:Rs("Close")},c||b));return P(a+"</div></div>")};function gxe(a){E.call(this);this.bb=a||Bd();this.Ma=new Wk(this);this.Aa(this.Ma);this.C=new Zs(a);this.C.aB(!1);Ln(this.C.D,!1);this.C.Gd("docs-offline-optinpromo");this.C.render();a=this.C.Oa();ee(a,!0);Jk(a,"dialog");Kk(a,"labelledby","docs-offline-optinpromo-title");Kk(a,"describedby","docs-offline-optinpromo-description");this.Aa(this.C);this.L=new Et(null);this.Aa(this.L);this.J=new Et(null);this.Aa(this.J);this.H=new Et(null);this.Aa(this.H);this.O=this.F=this.D=null;hxe(this,ixe)}w(gxe,E);
function ixe(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(Dt({id:"docs-offline-optinpromo-optin",content:Rs("Turn on offline access"),style:2},b));a+=O(Dt({id:"docs-offline-optinpromo-decline",content:Rs("No thanks"),style:0},b));return P(a+"</div>")}
function hxe(a,b){var c=N(b);a.C.setContent(c);switch(b){case ixe:a.Ma.V(a.C,"show",a.Uwb);b=a.bb.getElement("docs-offline-optinpromo-optin");a.L.Va(b);a.Ma.Jc(a.L,"action",u(a.Cvb,a));b=a.bb.getElement("docs-offline-optinpromo-decline");a.J.Va(b);a.Ma.Jc(a.J,"action",u(a.Kmb,a));a.D=a.bb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.bb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.bb.getElement("docs-offline-optinpromo-learn-more-container");a.Ma.V(a.D,"click",u(a.kQa,
a,!0)).V(a.F,"click",u(a.kQa,a,!1));break;case fxe:b=a.bb.getElement("docs-offline-optinpromo-confirm-close");a.H.Va(b);a.Ma.Jc(a.H,"action",u(a.show,a,!1));a.C.Oa().focus();break;default:throw Error("Cannot handle state "+b);}a.bb.getElement("docs-offline-optinpromo-title");a.bb.getElement("docs-offline-optinpromo-description")}p=gxe.prototype;p.kQa=function(a){K(this.D,!a);K(this.F,a);K(this.O,a);(a?this.F:this.D).focus();return!1};p.Cvb=function(){this.dispatchEvent(new D("wh"))};p.Kmb=function(){this.dispatchEvent(new D("xh"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("yh"))};p.Uwb=function(){this.C.Oa().focus();this.dispatchEvent(new D("vh"))};function jxe(a,b){this.L=a;this.H=b}function kxe(a){return lxe(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new A5;G(a,1,1);return a},a.J.bind(a))}jxe.prototype.J=function(a){if(a instanceof A5)return a;if(a instanceof Error)throw a;throw Error(a);};
function lxe(a){var b=new A5;return a.L.get().then(function(a){var c=a.C;switch(c){case 3:case 2:return Se();case 4:return G(b,1,3),G(b,2,a.D),Te(b);case 1:return G(b,1,2),Te(b);case 5:return G(b,1,4),Te(b);default:throw Error("Unexpected enabled state: "+c);}})}jxe.prototype.D=function(){return(new Qe(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return Se();a=new A5;G(a,1,5);return Te(a)})};jxe.prototype.C=function(){if(qr())return Se();var a=new A5;G(a,1,6);return Te(a)};
jxe.prototype.F=function(){var a=eh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Qe(function(b,c){Qdb(function(d,e){e>a?b():(d=new A5,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function mxe(a,b,c){this.C=a;this.D=c||null};function nxe(a,b){this.C=a;this.Xa=b}nxe.prototype.get=function(){return Ewe(this.C).then(function(a){return a?new mxe(1,a.RN.getId(),a.RN.iG(),oxe(this)):Cwe(this.C).then(function(a){return(new Qe(function(b,d){MIa(a.xQ(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new mxe(4,a.getId(),a.iG());else throw Error("More than one user in store: "+a.length);else a=vwe()?new mxe(2):SLa()?new mxe(5):new mxe(3);return a}.bind(this))}.bind(this))}.bind(this))};
function oxe(a){a=new yeb(a.Xa);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new Fx("metadata-sync",0,!0,new Ex(1,Jo(),Hx("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new Fx("service-worker-update",0,!0,new Ex(2,gza(),Hx("service_worker_update"),3E5,!0,!1)),R$a());I(b,"docs-offline-edswut")&&d.push(new Fx("drive-service-worker",0,!0,new Ex(2,hza(fh(H(),"drdn"),"/drive/serviceworker/update",!0),Hx("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new Fx("homescreen-cello-sync",eh(H(),"docs-offline-scstpim"),!0,new Ex(2,hza(eo(ma.location.href),"/document/backgroundsync"),new Gx,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new Fx("drive-cello-sync",eh(H(),"docs-offline-scstpim"),!0,new Ex(2,hza(fh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Gx,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new Fx("local-changes-sync",0,!1,new Ex(1,Jo(),Hx("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new Fx("auto-sync",eh(H(),"docs-offline-sastpim"),!1,new Ex(1,Jo(),Hx("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new Fx("webfonts-sync",0,!0,new Ex(1,Jo(),Hx("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new Fx("impression-sync",0,!1,new Ex(1,Jo(),Hx("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new Fx("document-deletion",0,!1,new Ex(1,Jo(),Hx("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new Fx("update-unsaved-changes",
0,!1,new Ex(2,gza(),Hx("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new Fx("cleanup-task",0,!1,new Ex(2,gza(),Hx("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new Fx("report-task",0,!1,new Ex(2,gza(),Hx("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new Fx("kix-snapshot",0,!1,new Ex(1,hza(eo(ma.location.href),"/document/snapshot.js"),new Gx,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new Fx("sync-objects-sync",0,!0,new Ex(1,Jo(),Hx("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=feb(a,b[d].getId()),!c||!rf(c,5,!1))return!1;return!0};function pxe(a){this.C=a}function qxe(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Fa()});a.C.setItem("optInLog",Io(c))}function rxe(){var a=ma.localStorage;if(!a)throw Error("Local storage not available");return new pxe(a)};function sxe(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function txe(a){return Cwe(a.H).then(function(a){return uxe(this,a).then(function(){var b=iOa();if(!b)throw Error("Missing user info for enabling offline in flags.");return vxe(this,a,b)}.bind(this))}.bind(a)).then(function(a){return wxe(this,a)}.bind(a))}function uxe(a,b){return(new Qe(function(a,d){MIa(b.xQ(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function vxe(a,b,c){var d=new EFa(F(c,1),!0);FFa(d,c.iG());GFa(d,F(c,3));HFa(d,!!F(c,4));IFa(d,!!F(c,6));hq(d,"optInReasons",a.C);return(new Qe(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function wxe(a,b){qxe(rxe(),b.iG()||"");ma.localStorage&&(ma.localStorage.removeItem("docs-uoo"),ma.localStorage.setItem("docs-oiouid",b.getId()));b=new Cr;var c=new kLa;rga(b,Er,c);DLa(a.F,b);b=new wr;var d=new jOa(b);return mKa(b).then(function(){return new Qe(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=kOa(),c=new Mwa;this.C[0]&&G(c,1,HIa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.tA(81E3,0);b=Nx(a);yf(b,34,c);this.D.uA(a)}.bind(a))};function xxe(a,b,c,d,e,f,h){z.call(this);this.bb=h||Bd();this.D=a;this.Xa=b;this.H=c;this.eb=d;a=new qOa;this.Aa(a);this.F=new Fr(a,Qr());this.Aa(this.F);this.Ka=new Rr(this.F,Qr(),this);this.Aa(this.Ka);this.Da=new Rr(this.F,null,this);this.Aa(this.Da);this.L=new Awe(this.Xa,this.F,e,"OfflinePromoControllerLockSessionId");this.Aa(this.L);e=new nxe(this.L,this.Xa);a=new wr;this.Za=new jxe(e,new jOa(a));e=this.L;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=fh(b,"gaia_session_id");
a=new W6c(306,b||null,a,!(Ba(ma)&&ma.window==ma)||!ma.document||!ma.document.documentElement,!0);b=new dxe(a);e=B.product.Se&&RMa&&(oOa()||pOa())?new exe(e):new FEc;e=new DEc(b,null,e);a=new cxe(a);b=pNa();e=obb(nbb(rwe(lbb(kbb(new jbb,e),a)),b),84).build();a=hbb(e.jD());b=(new CEc(!1)).get();a.H=b;this.Pa=e;this.Pa.AH();this.Qa=Vr(this.bb);this.C=null;this.Ma=new Wk(this);this.Aa(this.Ma);this.R=new Jp;this.Aa(this.R);this.ea=new gm(this.oqb,6E4,this);this.Aa(this.ea);this.Sa=!1;this.ma=this.J=null;
this.Fa=jr.getInstance();this.O=this.Ua=!1;this.va=B.product.Se&&B.product.Yg("56.0.2924.87");this.La=!1;this.Wa=f}w(xxe,z);p=xxe.prototype;p.init=function(){var a=this;qr()&&(yxe(this),zxe(this),B5(this).then(function(){Axe(a)},function(b){a.Xa.Qc(ye(b))}))};function Axe(a){a.F.connect();Kp(a.R,a.D.VK(),function(){a.ea.start();B5(a)});Kp(a.R,a.D.WK(),function(){a.ea.stop();yxe(a);zxe(a);B5(a)});a.Ma.V(a.Qa,"change",a.U6a);a.Ka.V(Er,a.T6a);a.Da.V(Er,a.S6a).V(yLa,a.Hib)}
function B5(a){return kxe(a.Za).then(function(b){var c=1==b.Uq(),d=a.D.ai(),e;if(!(e=a.O)&&(e=!vwe())){try{var f=!!ma.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.va&&e)&&!(c=!d)){try{var h=!!ma.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Ua||(h?a.C||(a.C=new gxe(a.bb),a.Aa(a.C),a.Ma.V(a.C,"wh",a.Dvb).V(a.C,"xh",a.zvb).V(a.C,"yh",a.Y4a),a.C.show(!0),Bxe(a)):a.C&&a.C.show(!1));if(a.eb)if(2==b.Uq()||d||h)Cxe(a);else if(a.ma&&!Cf(b,
a.ma)&&Cxe(a),null==a.J){d=Dxe(b);if(!a.La)switch(b.Uq()){case 1:break;case 3:Exe(a,"Offline ineligible, other user enabled");break;case 7:Exe(a,"Offline ineligible, insufficient disk space");break;case 5:Exe(a,"Offline ineligible, policy disallows");break;case 6:Exe(a,"Offline ineligible, no extension");break;case 4:Exe(a,"Offline ineligible, invalid db state");break;default:Exe(a,"Offline ineligible, unknown reason")}b=1==b.Uq()&&a.va?mr(d,"Turn on...",a.qxb.bind(a),"info",!1):lr(d,"info",!1);a.J=
a.Fa.postMessage(b)}})}p.oqb=function(){RLa()||wwe(!0)};
p.Evb=function(){if(this.D.ai()){var a=fh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(Ws("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=ASa("Your documents are syncing",Cs(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.bb);J(b.yp(),"docs-offline-welcomepromo-bg");this.Aa(b);this.C&&this.C.show(!1)}else this.Ua=!0,hxe(this.C,fxe);B5(this)};p.T6a=function(){B5(this)};p.S6a=function(){B5(this)};p.Hib=function(){this.O=!1;B5(this)};p.Bvb=function(a){this.Xa.Qc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=eu(this.Wa,"Turning on offline access failed. Please try again later.",this.bb);a.D=!0;a.render();a.setVisible(!0);this.Aa(a)};
p.Dvb=function(){this.H.C(2054);wwe(!1);txe(new sxe(this.L,this.F,this.Pa)).then(u(this.Evb,this),u(this.Bvb,this))};p.zvb=function(){this.D.ai()?this.H.C(2055):ywe(!0);wwe(!1);ma.localStorage.setItem("docs-urop","true");this.O=!1;B5(this);var a=new Cr,b=new mLa;rga(a,yLa,b);DLa(this.F,a)};
function Dxe(a){switch(a.Uq()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(F(a,2)+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function Exe(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";kp(a.Xa,Error("Offline editing disabled: "+b),c);a.La=!0}function Cxe(a){null!=a.J&&(kr(a.Fa,a.J),a.J=null,a.ma=null)}p.qxb=function(){this.O=!0;B5(this)};p.U6a=function(){Bxe(this)};p.Y4a=function(){A(this.C);this.C=null};function Bxe(a){!a.Sa&&a.C&&"hidden"!=a.Qa.getState()&&(a.D.ai()?a.H.C(2847):xwe(!0),a.Sa=!0)}
function yxe(a){try{var b=!!ma.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.ai()&&(xwe(!1),a.H.C(2847))}function zxe(a){try{var b=!!ma.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.ai()&&(ywe(!1),a.H.C(2055))};function Fxe(a,b,c){z.call(this);this.C=a;this.Ua=c;this.J=new Jp;this.Aa(this.J);this.Fa=new Rr(b,Qr(),this);this.Aa(this.Fa);this.Ma=new Wk(this);this.Aa(this.Ma);this.D=Vr();this.Aa(this.D);this.L=!1;this.Da=I(H(),"docs-offline-eraoi");this.Pa=I(H(),"docs-offline-eeooip");this.va=I(H(),"docs-offline-eiid");this.Qa=new wr;this.ea=null;this.ma=this.O=this.R=!1;this.H=new gm(this.La,Math.floor(27E4*Math.random())+3E4,this);this.Aa(this.H);this.F=[]}r(Fxe,z);
Fxe.prototype.init=function(){var a=this;(this.Da||this.Pa)&&this.Fa.V(Er,this.Sa);this.va&&(Gxe(this).then(function(b){a.ea=b}),this.Ma.V(this.D,"change",this.Ka));this.F.push(new Hxe("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss"));this.F.push(new Hxe("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss"))};
function Ixe(a){a.ma||(Kp(a.J,a.C.VK(),function(){return Jxe(a)}),Kp(a.J,a.C.WK(),function(){return Jxe(a)}),a.va||a.Ma.V(a.D,"change",a.Ka),a.ma=!0)}Fxe.prototype.Sa=function(){this.L||(this.L=!0,Ixe(this),this.Da&&("visible"==this.D.getState()||this.H.zb()||this.H.start()),Jxe(this))};
function Jxe(a){var b=!1;a.F.forEach(function(c){var d;if(d=!b){d=!1;switch(c.L){case "reload-after-opt-in":d=a.L&&a.C.ai();break;case "reload-after-extension-installation":d=a.R&&a.C.ai()}d=d&&!c.F}d?(Kxe(c),b=!0):null!=c.C&&(kr(c.H,c.C),c.C=null)})}Fxe.prototype.La=function(){this.O||!this.C.ai()||Fo(this.Ua.qQ(),256)||ma.location.reload()};
Fxe.prototype.Ka=function(){var a=this,b="visible"==this.D.getState();this.O||(this.O=b&&this.F.some(function(a){return null!=a.C}));b&&0==this.ea&&!this.R&&Gxe(this).then(function(b){b&&(a.R=!0,Ixe(a),Jxe(a))})};function Gxe(a){return qKa(a.Qa).then(function(){return qr()})}
function Hxe(a,b,c){z.call(this);var d=this;this.L=a;this.J=b;this.F=!1;this.C=null;this.H=jr.getInstance();this.D=new ve(c);this.Aa(this.D);this.D.setProperty("label","Dismiss");this.D.Na(!0);this.D.yb(Qa,function(){d.F=!0})}r(Hxe,z);function Kxe(a){null==a.C&&(a.C=a.H.postMessage(mr(a.J,"Reload",function(){ma.location.reload()},"info",!0,void 0,a.D)))};function Lxe(a,b,c,d,e,f,h){z.call(this);this.D=b;this.J=Ve();Mxe(this);this.F=this.H=null;this.O=a;this.C=c;this.Ma=new Wk(this);this.Aa(this.Ma);this.L=new Jp;this.Aa(this.L);this.R=d;this.ea=e;this.va=f;this.ma=h}w(Lxe,z);p=Lxe.prototype;p.start=function(){var a=this;Nxe(this.D).then(function(b){b.connect();a.J.resolve(b);return Oxe(a)}).then(function(){Kp(a.L,a.O.WK(),function(){Pxe(a)})},function(b){b=ye(b);a.C.F.resolve(b)})};
function $we(a){if(2!=a.C.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.C);Owe(a.C,4);return Qxe(a.D,10).then(function(a){var b=a.Uq();return Se().then(function(){return 1==b||2==b?C5(this,1):C5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.fC=function(){return this.D.fC()};
function Oxe(a){return a.D.H().then(function(b){switch(F(b,1)){case 1:return Rxe(a.D).then(function(){return C5(this,1)}.bind(a)).then(function(){Pxe(this)}.bind(a));case 2:return C5(a,2);case 4:return Sxe(a,F(b,2));case 3:return b=F(b,3),null!=b?Txe(a,b):C5(a,2);case 5:return Uxe(a)}})}p.wCb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Xe(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("uh")}.bind(this)),ba().bind(this))};function Sxe(a){return C5(a,2)}
function Txe(a,b){return a.ea?Qxe(a.D,b).then(function(a){switch(a.Uq()){case 1:return C5(this,1);case 2:return C5(this,1);default:return C5(this,2)}}.bind(a)):Se()}function Uxe(a){return a.va?Qxe(a.D,2).then(function(a){switch(a.Uq()){case 1:case 2:return C5(this,1);default:return C5(this,2)}}.bind(a)):Se()}
function Mxe(a){a.J.C.then(function(a){this.H=new Rr(a,"user_"+this.R,this);this.Aa(this.H);this.F=new Rr(a,null,this);this.Aa(this.F);this.H.V(Er,this.W6a).V(xLa,this.Tub).V(zLa,this.wCb);this.F.V(Er,this.V6a).V(xLa,this.Gib)}.bind(a))}p.W6a=function(){Xe(C5(this,1),ba().bind(this))};p.Tub=function(){Xe(C5(this,2),ba().bind(this))};p.V6a=function(){Vxe(this)};p.Gib=function(){Vxe(this)};
function C5(a,b){return a.fC().then(function(a){Owe(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("uh")}.bind(this))}.bind(a)).then(ba().bind(a))}function Vxe(a){a.fC().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("uh")}.bind(a))}function Pxe(a){a.ma&&1==a.C.C&&Xe(Wxe(a.D),ba().bind(a))};function Xxe(a){this.D=a}Xxe.prototype.C=g("D");function D5(a){nf(this,a,0,-1,null,null)}w(D5,lf);function Yxe(a){nf(this,a,0,-1,null,null)}w(Yxe,lf);function Zxe(a){nf(this,a,0,-1,null,null)}w(Zxe,lf);function $xe(a){nf(this,a,0,-1,aye,null)}w($xe,lf);function bye(a){nf(this,a,0,-1,cye,null)}w(bye,lf);function dye(a){nf(this,a,0,-1,null,null)}w(dye,lf);function eye(a){nf(this,a,0,-1,null,null)}w(eye,lf);function fye(a){nf(this,a,0,-1,null,null)}w(fye,lf);function gye(a){nf(this,a,0,-1,null,null)}w(gye,lf);
function hye(a){nf(this,a,0,-1,null,null)}w(hye,lf);function iye(a){nf(this,a,0,-1,jye,null)}w(iye,lf);function kye(a){nf(this,a,0,-1,null,null)}w(kye,lf);D5.prototype.getType=function(){return F(this,1)};D5.prototype.setType=function(a){G(this,1,a)};Yxe.prototype.getType=function(){return F(this,1)};Yxe.prototype.setType=function(a){G(this,1,a)};Yxe.prototype.IK=function(){return wf(this,Zxe,2)};Zxe.prototype.getType=function(){return F(this,1)};Zxe.prototype.setType=function(a){G(this,1,a)};
Zxe.prototype.getErrorMessage=function(){return F(this,2)};var aye=[1],cye=[1];dye.prototype.H=function(){return wf(this,swe,1)};eye.prototype.fC=function(){return wf(this,A5,1)};gye.prototype.fC=function(){return wf(this,A5,1)};hye.prototype.getId=function(){return F(this,1)};hye.prototype.mf=function(a){G(this,1,a)};hye.prototype.getTitle=function(){return F(this,2)};hye.prototype.Sq=function(){return F(this,3)};var jye=[1];function lye(a,b,c,d){z.call(this);this.F=Ve();this.bb=d||Bd();this.Ma=new Wk(this);this.Aa(this.Ma);this.J=a;a=new qo(b);a.qc("ouid",this.J);iza()&&a.qc("Debug","true");wo(a,"cd="+c);if(Fb(a.C))throw Error("Url contains invalid domain: "+b);this.L=to(so(ro(new qo,a.H),a.C),a.J).toString();this.C=this.bb.Ca("IFRAME",{style:"display:none"});cda(this.C,ur(a.toString()));this.Ma.V(me(this.bb),"message",this.O);this.bb.wb().body.appendChild(this.C);this.D=!1}w(lye,z);
function Nxe(a){var b=new D5;b.setType(1);return E5(a,b).then(function(a){a=new Fr(new Xxe(a.port),"user_"+this.J);this.Aa(a);return a}.bind(a))}function Lwe(a,b){var c=new D5;c.setType(2);var d=new $xe;G(d,1,b||[]);yf(c,2,d);return E5(a,c).then(function(a){return xf(wf(a.response,bye,3),hye,1)}.bind(a))}lye.prototype.H=function(){var a=new D5;a.setType(4);return E5(this,a).then(function(a){return wf(a.response,dye,4).H()}.bind(this))};
lye.prototype.fC=function(){var a=new D5;a.setType(10);return E5(this,a).then(function(a){return wf(a.response,eye,7).fC()}.bind(this))};function axe(a,b,c,d){d=void 0===d?!1:d;var e=new D5;e.setType(5);var f=new iye;zf(f,1,b);G(f,2,c);G(f,3,d);yf(e,3,f);return E5(a,e).then(function(a){return(a=wf(a.response,kye,8))&&wf(a,uwe,1)||null})}function Qxe(a,b){var c=new D5;c.setType(6);var d=new fye;G(d,1,b);yf(c,4,d);return E5(a,c).then(function(a){return wf(a.response,gye,5).fC()})}
function Rxe(a){var b=new D5;b.setType(9);return E5(a,b).then(ba())}function Wxe(a){var b=new D5;b.setType(11);return E5(a,b).then(ba())}
function E5(a,b){return a.F.C.then(function(a){var c=Fa(),e=new MessageChannel;a.postMessage(b.Bg(),[e.port2]);var f=Ve();e.port1.onmessage=u(function(a){a=new mye(a);a.response&&a.response.IK()?(a=a.response.IK(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=cm(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Fa()-c)+"ms."))},na(void 0)?void 0:3E4);We(f.C,function(){e.port1.close();
em(h)});return f.C}.bind(a))}lye.prototype.O=function(a){(a=a.le())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],wb(this,a.close,a),this.F.resolve(a),this.D=!0),A(this.Ma))};lye.prototype.Ia=function(){this.bb.Gf(this.C);lye.oa.Ia.call(this)};function mye(a){this.response=a.data?new Yxe(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function nye(a,b,c,d,e,f,h,k,l,n,q){var t=this;z.call(this);var v=H();this.F=fh(v,"docs-offline-lsuid");this.J=new qOa;this.C=new Fr(this.J,Qr());this.Aa(this.C);this.C.connect();this.H=h;this.Xa=b;var y=I(v,"docs-offline-eeooip");if(y||I(v,"docs-offline-eraoi")||I(v,"docs-offline-eiid")){var C=new Fxe(a,this.C,e.C);this.Aa(C);C.init()}y&&(b=new xxe(a,b,c,d,h,l,q),this.Aa(b),b.init());this.D=new Mwe;this.Aa(this.D);var L=I(v,"docs-offline-eiedp")&&(!I(v,"docs-isd")||I(v,"docs-offline-esdp")),T=I(v,
"docs-offline-eiecr");oye(this,L,T).then(function(b){if(b){b=fza("/iframeapi",void 0);b=new lye(t.F,b,1);t.Aa(b);var c=new Lxe(a,b,t.D,t.F,!1,T,!1);t.Aa(c);c.start();if(L){var d=new Hwe(e.F,b,t.C,t.Xa);t.Aa(d);d.start();b=new Qwe(e,f,b,d,t.D,k,c,t.Xa,l,a,n);t.Aa(b);b.init()}}})}w(nye,z);function oye(a,b,c){return b?Se(!0):c?(b=new Awe(a.Xa,a.C,a.H,"EditorOfflineControllerLockSessionId"),a.Aa(b),(new nxe(b,a.Xa)).get().then(function(a){return 5==a.C},function(b){a.Xa.Qc(ye(b))})):Se(!1)};function pye(){z.call(this)}w(pye,IE);pye.prototype.C=function(a,b,c,d,e,f,h,k,l,n){return new nye(a,b,c,!0,d,e,f,h,k,l,n)};PE("offline",pye);
